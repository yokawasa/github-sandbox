# References
# - pull_request + path
#   - https://help.github.com/en/actions/automating-your-workflow-with-github-actions/workflow-syntax-for-github-actions#onpushpull_requestpaths
# go lang test 
name: Test Go Project
on:
  # Trigger the workflow on pull request ( only for the master branch )
  pull_request:
    branches:
      - master
    paths:
      - 'go/*'
  # Trigger the workflow on push ( only for the master branch )
  #push:
  #  branches:
  #    - master
  #  tags:
  #    - v1
  #  # file paths to consider in the event. Optional; defaults to all.
  #  paths:
  #    - 'test/*'

jobs:
  test:
    name: Test
    runs-on: ubuntu-latest
    steps:
    - name: Set up Go 1.13
      uses: actions/setup-go@v1
      with:
        go-version: 1.13

    - name: Check out code into the Go module directory
      uses: actions/checkout@v1

    - name: Get dependencies
      run: go get -v -t -d ./...

    - name: Test code
      run: go test -v ./...
